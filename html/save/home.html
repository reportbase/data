<head>
<link rel="stylesheet" href="styles.css">

<script>
function ifr() { scroll(0,0); return document.getElementById('ifr').contentWindow; }
function panorama() { ifr().postMessage('PANORAMA', "https://reportbase.com"); }
function slideshow() { ifr().postMessage('SLIDESHOW', "https://reportbase.com"); }
function filmstrip() { ifr().postMessage('FILMSTRIP', "https://reportbase.com"); }
function pageupdown() {ifr().postMessage('PAGEUPDOWN', "https://reportbase.com") }
function pagedown() {ifr().postMessage('PAGEDOWN', "https://reportbase.com") }
function pageup() {ifr().postMessage('PAGEUP', "https://reportbase.com") }
function faster() {ifr().postMessage('FASTER', "https://reportbase.com") }
function slower() {ifr().postMessage('SLOWER', "https://reportbase.com") }
function fullscreen() {ifr().postMessage('FULLSCREEN', "https://reportbase.com") }
function newindow() {ifr().postMessage('NEWINDOW', "https://reportbase.com") }
function original() {ifr().postMessage('ORIGINAL', "https://reportbase.com") }
function montage() {ifr().postMessage('MONTAGE', "https://reportbase.com") }
function zoom() {ifr().postMessage('ZOOM', "https://reportbase.com") }
function describe() {return document.getElementById("describe"); }
function examples() {return document.getElementById("examples"); }

window.addEventListener("keydown", function (evt)
{
    if (evt.key == "ArrowLeft")
        pageup();
    else if (evt.key == "ArrowRight")
        pagedown();
    else if (evt.key == "Enter")
        zoom();
    else if (evt.key == "f")
        newindow();
    else if (evt.key == "p")
        panorama();
    else if (evt.key == "g")
        filmstrip();

}, false);

Number.prototype.pad = function(size)
{
    var s = String(this);
    while (s.length < (size || 2)) {s = "0" + s;}
	    return s;
}

function ifrexample(n)
{
    var k = lst[n];
    var b = document.getElementById('ifr')
    b.src = "https://reportbase.com?p=boss/" + k.a + "&k=" + k.b + "&a=2";
}

var lst = 
[
    {a:"boss/ultra", b:"0000", c:2, d:2, e:"home"},
    {a:"boss/ultra", b:"0001", c:2, d:2, e:"demos"},
    {a:"boss/poke", b:"0000", c:2, d:2, e:"panoramas"},
    //{a:"yoll/0004", b:"0000", c:1, d:1, e:"yoll"},
    {a:"boss/golfer/0002", b:"0001", c:1, d:2, e:"motion"},
    {a:"boss/land/0000", b:"0000", c:1, d:2, e:"360"},
    {a:"boss/ultra", b:"0006", c:1, d:2, e:"services"},
];

function gohome() {ifrclick("home"); }
function gopanorama() {ifrclick("panoramas"); }
function go360() {ifrclick("360"); }
function godemos() {ifrclick("demos"); }
function goservices() {ifrclick("services"); }
function gomotion() {ifrclick("motion"); }
 
function ifrclick(j)
{
    scroll(0,0); 
    var c = Number.isInteger(j) ? j : lst.findIndex(function(a){return a.e == j}); 
    var k = lst[c];
    var b = document.getElementById('ifr')
    var str = "https://reportbase.com?p=" + k.a + "&k=" + k.b + "&a="+k.d+"&f="+k.c;
    b.src = str;
}

var oldimage = -1;
var oldslice = -1;
window.addEventListener('message',function(e) 
{
    var src = document.getElementById('ifr').src;
    var url = new URL(src);
    var b = document.getElementById('ifr')
    if (e.data.describe)
    {   
        var project = url.searchParams.get("p");
        var page = url.searchParams.get("k");
        localStorage.setItem("describe", e.data.describe);
        localStorage.setItem("project", project);
        localStorage.setItem("page", page);
        describe().innerHTML = e.data.describe;
    }
    else
    {
        var k = localStorage.getItem("describe");
        var project = localStorage.getItem("project");
        var page = localStorage.getItem("page");
        describe().innerHTML = k;
    }
    
    if (e.data.examples)
        examples().innerHTML = e.data.examples;

    var links = "<h2>";
    links += "<a href=\"javascript:void(0);\" onclick=\"pageup()\">&#x276E&nbsp;&nbsp;</a>";
    for (var n = 0; n < lst.length; ++n)
    {
        if (lst[n].a == project && lst[n].b == page)
            links += "<a style=\"background-color:black; focus: orange; hover: orange; color:white; padding:8px;\" onclick=\"ifrclick("+n+")\">" + (n+1).pad(2) + "</a>&nbsp;\n";
        else
            links += "<a style=\"background-color:white; focus: orange; hover: orange\" onclick=\"ifrclick("+n+")\">" + (n+1).pad(2) + "</a>&nbsp;\n";
    }

    links += "<a href=\"javascript:void(0);\" onclick=\"pagedown()\">&#x276f;&nbsp;</a>";
    var linkobj = document.getElementById("links")
    if (linkobj && linkobj.innerold != links)
    {
        linkobj.innerHTML = links;
        linkobj.innerold = links;
    }
    

}, false);

</script>
</head>
<body>
<center>
<iframe name=ifr id=ifr src="https://reportbase.com/?p=boss/ultra&k=0000&e=0&a=0&f=1" 
    width="100%" height="180" style="background:white;border:none;overflow:hidden;max-width:1280;}
    scrolling="no" frameborder="0" allowfullscreen="true" allowtransparency="true"
    allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"></iframe><p>

<h3 id="links"></h3>

<table>
<tr>
<td></td>
<td align=center width=800>
<h3 id = "describe">
</h3>
</td>
<td></td>
</tr>
</table>

<table>
<tr>
<td></td>
<td align=center width=800>
<h3>
</h3> 
</td>
<td></td>
</tr>
</table>

<div id = "examples"></div>
</BODY>
<script>
document.getElementById('ifr').addEventListener( "load", function(e) { scroll(0,0);  });
</script>
</HTML>















